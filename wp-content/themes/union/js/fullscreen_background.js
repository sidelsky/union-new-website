/*
 * FullScreen Background  v1.5
 *
 * Copyright 2013-2014, LambertGroup
 * 
 */

(function(d){function Y(a,b,c){c.responsive&&(newCss="",-1!=a.css("font-size").lastIndexOf("px")?(fontSize=a.css("font-size").substr(0,a.css("font-size").lastIndexOf("px")),newCss+="font-size:"+fontSize/(c.origWidth/c.width)+"px;"):-1!=a.css("font-size").lastIndexOf("em")&&(fontSize=a.css("font-size").substr(0,a.css("font-size").lastIndexOf("em")),newCss+="font-size:"+fontSize/(c.origWidth/c.width)+"em;"),-1!=a.css("line-height").lastIndexOf("px")?(lineHeight=a.css("line-height").substr(0,a.css("line-height").lastIndexOf("px")), newCss+="line-height:"+lineHeight/(c.origWidth/c.width)+"px;"):-1!=a.css("line-height").lastIndexOf("em")&&(lineHeight=a.css("line-height").substr(0,a.css("line-height").lastIndexOf("em")),newCss+="line-height:"+lineHeight/(c.origWidth/c.width)+"em;"),a.wrapInner('<div class="newFS" style="'+newCss+'" />'));var g=a.attr("data-final-left"),f=a.attr("data-final-top");c.responsive&&(g=parseInt(g/(c.origWidth/c.width),10),f=parseInt(f/(c.origWidth/c.width),10));c=1;!0==b.isVideoPlaying&&(c=0);a.animate({opacity:c, left:g+"px",top:f+"px"},1E3*a.attr("data-duration"),function(){!0==b.isVideoPlaying&&d(b.currentImg.attr("data-text-id")).children().css("opacity",0)})}function N(a,b,c,g){d(a.currentImg.attr("data-text-id")).css("display","block");c=d(a.currentImg.attr("data-text-id")).children();var f=0;currentText_arr=[];c.each(function(){currentText_arr[f]=d(this);var c=currentText_arr[f].attr("data-initial-left"),g=currentText_arr[f].attr("data-initial-top");b.responsive&&(c=parseInt(c/(b.origWidth/b.width), 10),g=parseInt(g/(b.origWidth/b.width),10));currentText_arr[f].css({left:c+"px",top:g+"px",opacity:parseInt(currentText_arr[f].attr("data-fade-start"),10)/100});var k=currentText_arr[f];setTimeout(function(){Y(k,a,b)},1E3*currentText_arr[f].attr("data-delay"));f++})}function O(a,b,c,g,f,l){K();-1==a&&(a=0);var n=d(f[a]),k=b.horizontalPosition;void 0!=n.attr("data-horizontalPosition")&&""!=n.attr("data-horizontalPosition")&&(k=n.attr("data-horizontalPosition"));f=b.verticalPosition;void 0!=n.attr("data-verticalPosition")&& ""!=n.attr("data-verticalPosition")&&(f=n.attr("data-verticalPosition"));g=g[a].split(";");b.width100Proc&&!b.height100Proc&&(g[0]/=b.origWidth/b.width,g[1]/=b.origWidth/b.width);var n=g[0],v=g[1];b.width100Proc&&b.height100Proc&&1<n&&(n=l.winWidth,v=n*g[1]/g[0],v<l.winHeight&&(v=l.winHeight,n=v*g[0]/g[1]),g[0]=parseInt(n,10),g[1]=parseInt(v,10));a=d("#contentHolderUnit_"+a,c).find("img:first");c=0;switch(k){case "left":c=0;break;case "center":c=(b.width-g[0])/2;break;case "right":c=b.width-g[0]; break;default:c=0}k=0;switch(f){case "top":k=-2;break;case "center":k=(b.height-g[1])/2;break;case "bottom":k=b.height-g[1]+2;break;default:k=0}a.css({width:g[0]+"px",height:g[1]+"px","margin-left":parseInt(c,10)+"px","margin-top":parseInt(k,10)+"px",opacity:b.initialOpacity})}function T(a,b){nowx=(new Date).getTime();!a.mouseOverBanner&&b.showCircleTimer&&(a.ctx.clearRect(0,0,a.canvas.width,a.canvas.height),a.ctx.beginPath(),a.ctx.globalAlpha=b.behindCircleAlpha/100,a.ctx.arc(b.circleRadius+2*b.circleLineWidth, b.circleRadius+2*b.circleLineWidth,b.circleRadius,0,2*Math.PI,!1),a.ctx.lineWidth=b.circleLineWidth+2,a.ctx.strokeStyle=b.behindCircleColor,a.ctx.stroke(),a.ctx.beginPath(),a.ctx.globalAlpha=b.circleAlpha/100,a.ctx.arc(b.circleRadius+2*b.circleLineWidth,b.circleRadius+2*b.circleLineWidth,b.circleRadius,0,(a.timeElapsed+nowx-a.arcInitialTime)/1E3*2/b.autoPlay*Math.PI,!1),a.ctx.lineWidth=b.circleLineWidth,a.ctx.strokeStyle=b.circleColor,a.ctx.stroke())}function E(a,b,c,g,f,l,n,k,v,p,m,A,w,F,t,r,s){var B= !0;if(!c.loop&&b.current_img_no+a>=g||!c.loop&&0>b.current_img_no+a||2>g)B=!1;B&&!b.slideIsRunning&&(b.slideIsRunning=!0,d(".newFS",p).contents().unwrap(),b.arcInitialTime=(new Date).getTime(),b.timeElapsed=0,c.showCircleTimer&&(clearInterval(b.intervalID),b.ctx.clearRect(0,0,b.canvas.width,b.canvas.height),b.ctx.beginPath(),b.ctx.globalAlpha=c.behindCircleAlpha/100,b.ctx.arc(c.circleRadius+2*c.circleLineWidth,c.circleRadius+2*c.circleLineWidth,c.circleRadius,0,2*Math.PI,!1),b.ctx.lineWidth=c.circleLineWidth+ 2,b.ctx.strokeStyle=c.behindCircleColor,b.ctx.stroke(),b.ctx.beginPath(),b.ctx.globalAlpha=c.circleAlpha/100,b.ctx.arc(c.circleRadius+2*c.circleLineWidth,c.circleRadius+2*c.circleLineWidth,c.circleRadius,0,0,!1),b.ctx.lineWidth=c.circleLineWidth,b.ctx.strokeStyle=c.circleColor,b.ctx.stroke(),b.intervalID=setInterval(function(){T(b,c)},125)),b.bottomNavClicked||(b.previous_current_img_no=b.current_img_no),b.bottomNavClicked=!1,d(b.currentImg.attr("data-text-id")).css("display","none"),"bullets"==c.skin&& d(f[b.current_img_no]).removeClass("bottomNavButtonON"),"bullets"!=c.skin&&d(w[b.current_img_no]).css({"border-color":c.thumbsBorderColorOFF}),m.css("display","none"),b.current_img_no=b.current_img_no+a>=g?0:0>b.current_img_no+a?g-1:b.current_img_no+a,"bullets"==c.skin&&d(f[b.current_img_no]).addClass("bottomNavButtonON"),"bullets"!=c.skin&&(d(w[b.current_img_no]).css({"border-color":c.thumbsBorderColorON}),currentCarouselLeft=F.css("left").substr(0,F.css("left").lastIndexOf("px")),0===b.current_img_no|| b.current_img_no===g-1?P(0,F,t,r,c,g,s,b):P(1001,F,t,r,c,g,s,b)),c.fadeSlides?(d("#contentHolderUnit_"+b.current_img_no,p).css({opacity:1,"z-index":0,display:"block"}),d("#contentHolderUnit_"+b.previous_current_img_no,p).css({"z-index":1,display:"block"}),d("#contentHolderUnit_"+b.previous_current_img_no,p).animate({opacity:0},800,"easeOutQuad",function(){b.slideIsRunning=!1;c.fadeSlides&&(d("#contentHolderUnit_"+b.current_img_no,p).css({"z-index":1}),d("#contentHolderUnit_"+b.previous_current_img_no, p).css({"z-index":0,display:"none"}));b.currentImg=d(l[b.current_img_no]);"true"==b.currentImg.attr("data-video")&&m.css("display","block");"true"==d(l[b.previous_current_img_no]).attr("data-video")&&(d("#contentHolderUnit_"+b.previous_current_img_no,p).html(d(l[b.previous_current_img_no]).html()),O(b.previous_current_img_no,c,p,A,l,b));N(b,c,n,k);0<c.autoPlay&&1<g&&!b.mouseOverBanner&&(clearTimeout(b.timeoutID),b.timeoutID=setTimeout(function(){E(1,b,c,g,f,l,n,k,v,p,m,A,w,F,t,r,s)},1E3*c.autoPlay))})): v.animate({left:-1*b.current_img_no*c.width+"px"},800,"easeOutQuad",function(){b.slideIsRunning=!1;b.currentImg=d(l[b.current_img_no]);"true"==b.currentImg.attr("data-video")&&m.css("display","block");"true"==d(l[b.previous_current_img_no]).attr("data-video")&&(d("#contentHolderUnit_"+b.previous_current_img_no,p).html(d(l[b.previous_current_img_no]).html()),O(b.previous_current_img_no,c,p,A,l,b));N(b,c,n,k);0<c.autoPlay&&1<g&&!b.mouseOverBanner&&(clearTimeout(b.timeoutID),b.timeoutID=setTimeout(function(){E(1, b,c,g,f,l,n,k,v,p,m,A,w,F,t,r,s)},1E3*c.autoPlay))}),-1!=K()&&c.texturePath&&d(".texture_over_image",p).css("display","block"))}function P(a,b,d,g,f,l,n,k){currentCarouselLeft=b.css("left").substr(0,b.css("left").lastIndexOf("px"));1===a||-1===a?(k.isCarouselScrolling=!0,b.css("opacity","0.5"),b.animate({opacity:1,left:"+="+a*k.carouselStep},500,"easeOutCubic",function(){J(k,b,d,g,f,l,n);k.isCarouselScrolling=!1})):currentCarouselLeft!=-1*Math.floor(k.current_img_no/f.numberOfThumbsPerScreen)*k.carouselStep&& (k.isCarouselScrolling=!0,b.css("opacity","0.5"),b.animate({opacity:1,left:-1*Math.floor(k.current_img_no/f.numberOfThumbsPerScreen)*k.carouselStep},500,"easeOutCubic",function(){J(k,b,d,g,f,l,n);k.isCarouselScrolling=!1}))}function J(a,b,d,g,f,l,n){currentCarouselLeft=b.css("left").substr(0,b.css("left").lastIndexOf("px"));0>currentCarouselLeft?d.hasClass("carouselLeftNavDisabled")&&d.removeClass("carouselLeftNavDisabled"):d.addClass("carouselLeftNavDisabled");Math.abs(currentCarouselLeft-a.carouselStep)< (2*a.thumbBorderWidth+n.width()+a.thumbMarginLeft)*l?g.hasClass("carouselRightNavDisabled")&&g.removeClass("carouselRightNavDisabled"):g.addClass("carouselRightNavDisabled")}function U(a,b,c,g,f,l,n,k,v,p,m){"bullets"!=b.skin&&(m.css({top:b.height+"px","margin-top":parseInt(b.thumbsWrapperMarginTop/(b.origWidth/b.width),10)+"px",height:parseInt(b.origthumbsHolderWrapperH/(b.origWidth/b.width),10)+"px"}),bgTopCorrection=0,n.css("background-position","0px "+((m.height()-b.origthumbsHolderWrapperH)/ 2+bgTopCorrection)+"px"),k.css("background-position","0px "+((m.height()-b.origthumbsHolderWrapperH)/2+bgTopCorrection)+"px"),p.css("width",b.width-n.width()-k.width()),b.origWidthThumbsHolderVisibleWrapper=b.origWidth-n.width()-k.width(),f.css({width:parseInt(b.origThumbW/(b.origWidthThumbsHolderVisibleWrapper/p.width()),10)+"px",height:parseInt(b.origThumbH/(b.origWidthThumbsHolderVisibleWrapper/p.width()),10)+"px"}),d(".thumbsHolder_ThumbOFF",g).find("img:first").css({width:f.width()+"px",height:f.height()+ "px"}),a.thumbMarginLeft=Math.floor((m.width()-n.width()-k.width()-(2*a.thumbBorderWidth+v.width())*b.numberOfThumbsPerScreen)/(b.numberOfThumbsPerScreen-1)),thumb_i=-1,l.children().each(function(){thumb_i++;theThumb=d(this);0>=thumb_i?theThumb.css("margin-left",Math.floor((m.width()-n.width()-k.width()-(a.thumbMarginLeft+(2*a.thumbBorderWidth+theThumb.width()))*(b.numberOfThumbsPerScreen-1)-(2*a.thumbBorderWidth+theThumb.width()))/2)+"px"):theThumb.css("margin-left",a.thumbMarginLeft+"px")}),a.carouselStep= (2*a.thumbBorderWidth+v.width()+a.thumbMarginLeft)*b.numberOfThumbsPerScreen);if(b.numberOfThumbsPerScreen>=c)switch(b.bottomNavPos){case "left":p.css("left",b.bottomNavLateralMargin+a.thumbMarginLeft+"px");break;case "right":p.css("left",b.width-(2*a.thumbBorderWidth+f.width()+a.thumbMarginLeft)*c-b.bottomNavLateralMargin+"px");break;default:p.css("left",parseInt((m.width()-(2*a.thumbBorderWidth+v.width()+a.thumbMarginLeft)*c)/2,10)+"px")}}function V(a,b,c,g){var f=b.videoProportionWidth;b=b.videoProportionHeight; b=9;void 0!=d(c[a.current_img_no]).attr("data-videoProportionWidth")&&""!=d(c[a.current_img_no]).attr("data-videoProportionWidth")&&(f=d(c[a.current_img_no]).attr("data-videoProportionWidth"));a=parseInt(1280/f*b,10);windowW=d(window).width()+1;windowH=d(window).height();c=1/(1280/windowW);a/windowH<1280/windowW&&(c=1/(a/windowH));16!=f&&(c+=.11);d("iframe",g).css({width:1280*c+"px",height:a*c+"px",left:parseInt((windowW-1280*c)/2,10)+"px",top:parseInt((windowH-a*c)/2,10)+"px"})}function K(){var a= -1;"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1));return parseInt(a,10)}function Z(a){var b=!1;a=a.substr(a.length-4).toLowerCase();if(".jpg"==a||".png"==a||".gif"==a)b=!0;return b}d.fn.fullscreen_background=function(a){a=d.extend({},d.fn.fullscreen_background.defaults,a);return this.each(function(){var b=d(this);responsiveWidth=b.parent().width();responsiveHeight=b.parent().height();a.responsiveRelativeToBrowser&& (responsiveWidth=d(window).width(),responsiveHeight=d(window).height());a.origWidth=a.width;a.fadeSlides||(a.origWidth-=1);a.width100Proc&&(a.width=responsiveWidth);a.origHeight=a.height;a.height100Proc&&(a.height=responsiveHeight);a.responsive&&(a.origWidth!=responsiveWidth||a.width100Proc)&&(a.width=a.origWidth>responsiveWidth||a.width100Proc?responsiveWidth:a.origWidth,a.height100Proc||(a.height=a.width/(a.origWidth/a.origHeight)));a.enableTouchScreen&&a.responsive&&a.fadeSlides&&(a.width-=1); var c=d("<div></div>").addClass("fullscreen_background").addClass(a.skin),g=d('<div class="bannerControls"> <div class="leftNav"></div> <div class="rightNav"></div> </div> <div class="contentHolderVisibleWrapper"><div class="contentHolder"></div></div> <div class="playOver"></div> <div class="thumbsHolderWrapper"><div class="thumbsHolderVisibleWrapper"><div class="thumbsHolder"></div></div></div> <canvas class="mycanvas"></canvas>');b.wrap(c);a.texturePath&&(b.append('<div class="texture_over_image" />'), d(".texture_over_image",f).css({background:"url("+a.texturePath+")"}));b.after(g);var f=b.parent(".fullscreen_background");a.setAsBg&&f.wrap('<div class="setAsBg" />');var l=d(".bannerControls",f),n=d(".contentHolderVisibleWrapper",f),k=d(".contentHolder",f),c=d('<div class="bottomNav"></div>');b.after(c);a.showAllControllers||l.css("display","none");var v=d(".leftNav",f),p=d(".rightNav",f);v.css("display","none");p.css("display","none");a.showNavArrows&&a.showOnInitNavArrows&&(v.css("display","block"), p.css("display","block"));var m=d(".bottomNav",f),A;"bullets"==a.skin&&(m.css({display:"block",top:a.height+"px"}),a.width100Proc&&a.height100Proc?m.css("margin-top",a.thumbsWrapperMarginTop+"px"):m.css("margin-top",a.thumbsWrapperMarginTop/(a.origWidth/a.width)+"px"));a.showBottomNav||m.css("display","none");a.showOnInitBottomNav||m.css("left","-5000px");var w=d(".thumbsHolderWrapper",f),F=d(".thumbsHolderVisibleWrapper",f),t=d(".thumbsHolder",f),r,s;r=d('<div class="carouselLeftNav"></div>');s= d('<div class="carouselRightNav"></div>');w.append(r);w.append(s);s.css("right","0");t.css("width",r.width()+"px");a.showBottomNav&&a.showOnInitBottomNav||w.css({opacity:0,display:"none"});"bullets"!=a.skin&&w.css("margin-top",parseInt(a.thumbsWrapperMarginTop/(a.origWidth/a.width),10)+"px");var B=K();-1!=B&&a.texturePath&&d(".texture_over_image",f).click(function(){var b=d(x[e.current_img_no]);if(void 0!=b.attr("data-link")&&""!=b.attr("data-link")){var c=a.target;void 0!=b.attr("data-target")&& ""!=b.attr("data-target")&&(c=b.attr("data-target"));"_blank"==c?window.open(b.attr("data-link")):window.location=b.attr("data-link")}else"true"==b.attr("data-video")&&y.click()});a.enableTouchScreen&&(a.fadeSlides&&(c=Math.floor(1E5*Math.random()),f.wrap('<div id="fullbgParent_'+c+'" style="position:relative;" />'),d("#fullbgParent_"+c).width(a.width+1),d("#fullbgParent_"+c).height(a.height)),-1!=B&&9==B&&a.fadeSlides&&"bullets"==a.skin||(k.css("cursor","url("+a.absUrl+"skins/hand.cur),url("+a.absUrl+ "skins/hand.cur),move"),f.css("cursor","url("+a.absUrl+"skins/hand.cur),url("+a.absUrl+"skins/hand.cur),move")),k.css("left","0"),a.fadeSlides?-1!=B&&9==B&&a.fadeSlides&&"bullets"==a.skin||f.draggable({axis:"x",containment:"parent",start:function(a,b){origLeft=d(this).css("left");y.css("display","none")},stop:function(c,g){e.slideIsRunning||(finalLeft=d(this).css("left"),direction=1,origLeft<finalLeft&&(direction=-1),d(this).css("left","0px"),E(direction,e,a,q,C,x,b,l,k,f,y,G,z,t,r,s,u))}}):k.draggable({axis:"x", distance:10,start:function(a,b){origLeft=parseInt(d(this).css("left"),10);y.css("display","none")},stop:function(c,g){e.slideIsRunning||(finalLeft=parseInt(d(this).css("left"),10),direction=1,origLeft<finalLeft&&(direction=-1),E(direction,e,a,q,C,x,b,l,k,f,y,G,z,t,r,s,u))}}));var y=d(".playOver",f);y.css({left:parseInt((a.width-y.width())/2,10)+"px",top:parseInt((a.height-y.height())/2,10)+"px"});var e={current_img_no:0,currentImg:0,previous_current_img_no:0,slideIsRunning:!1,mouseOverBanner:!1,isVideoPlaying:!1, bottomNavClicked:!1,current_imgInside:"",windowWidth:0,carouselStep:0,thumbBorderWidth:0,thumbMarginLeft:0,timeoutID:"",intervalID:"",arcInitialTime:(new Date).getTime(),timeElapsed:0,canvas:"",ctx:"",bannerRatio:a.origWidth/a.origHeight,msiInterval:"",msiInitialTime:(new Date).getTime(),winWidth:0,winHeight:0};e.winWidth=d(window).width();e.winHeight=d(window).height();e.canvas=d(".mycanvas",f)[0];e.canvas.width=2*a.circleRadius+4*a.circleLineWidth;e.canvas.height=2*a.circleRadius+4*a.circleLineWidth; -1!=B&&9>B&&(a.showCircleTimer=!1);a.showCircleTimer&&(e.ctx=e.canvas.getContext("2d"));var G=[],Q=0;f.width(a.width);f.height(a.height);n.width(a.width);n.height(a.height);k.width(a.width);k.height(a.height);l.css("margin-top",parseInt((a.height-v.height())/2,10)+"px");var q=0,x=b.find("ul:first").children(),I,R=0,H,M=0,J=0,L,u,W=0,X=0;x.each(function(){e.currentImg=d(this);e.currentImg.is("li")||(e.currentImg=e.currentImg.find("li:first"));e.currentImg.is("li")&&(q++,myzindex=0,mydisplay="none", 1==q&&(myzindex=1,mydisplay="block"),I=d('<div class="contentHolderUnit" rel="'+(q-1)+'" id="contentHolderUnit_'+(q-1)+'">'+e.currentImg.html()+"</div>"),1>=x.length&&e.currentImg.html(""),a.fadeSlides?I.css({position:"absolute",top:0,left:0,"z-index":myzindex,display:mydisplay}):I.css({position:"relative","float":"left"}),I.width(a.width),I.height(a.height),k.append(I),R+=a.width,e.current_img_no=q-1,L=d("#contentHolderUnit_"+e.current_img_no,f).find("img:first"),G[q-1]=L.width()+";"+L.height(), O(q-1,a,f,G,x,e),"bullets"==a.skin&&(H=d('<div class="bottomNavButtonOFF" rel="'+(q-1)+'"></div>'),m.append(H),M+=parseInt(H.css("padding-left").substring(0,H.css("padding-left").length-2),10)+H.width(),J=parseInt((m.height()-parseInt(H.css("height").substring(0,H.css("height").length-2)))/2,10),H.css("margin-top",J+"px")),"bullets"!=a.skin&&(image_name=d(x[q-1]).attr("data-bottom-thumb"),u=d('<div class="thumbsHolder_ThumbOFF" rel="'+(q-1)+'"><img src="'+image_name+'"></div>'),t.append(u),0==a.origThumbW&& (0==a.numberOfThumbsPerScreen&&(a.numberOfThumbsPerScreen=Math.floor((a.origWidth-r.width()-s.width())/(2*e.thumbBorderWidth+u.width()))-1),a.origThumbW=u.width(),a.origThumbH=u.height(),a.origthumbsHolderWrapperH=w.height(),e.thumbBorderWidth=u.css("borderLeftWidth").substr(0,u.css("borderLeftWidth").lastIndexOf("px")),e.thumbMarginLeft=Math.floor((a.origWidth-r.width()-s.width()-(2*e.thumbBorderWidth+u.width())*a.numberOfThumbsPerScreen)/(a.numberOfThumbsPerScreen-1))),t.css("width",t.width()+e.thumbMarginLeft+ (2*e.thumbBorderWidth+u.width())+"px"),W=parseInt((w.height()-parseInt(u.css("height").substring(0,u.css("height").length-2)))/2,10)),X=a.fadeSlides?0:parseInt((q-1)*a.width,10),k.append(d(e.currentImg.attr("data-text-id"))),d(e.currentImg.attr("data-text-id")).css({width:b.width()+"px",left:X,top:l.css("top")}))});1>=q&&(a.autoPlay=0,a.showNavArrows=!1,a.showOnInitNavArrows=!1,a.showBottomNav=!1,a.showOnInitBottomNav=!1,v.css("display","none"),p.css("display","none"),m.css("display","none"));c=a.thumbsWrapperBg; Z(a.thumbsWrapperBg)&&(c="url("+a.thumbsWrapperBg+")");w.css({background:c});k.width(R);m.width(M);if(a.showOnInitBottomNav)switch(a.bottomNavPos){case "left":m.css("left",a.bottomNavLateralMargin+"px");break;case "right":m.css("left",parseInt(f.width()-M,10)-a.bottomNavLateralMargin+"px");break;default:m.css("left",parseInt((f.width()-M)/2,10)+"px")}"bullets"!=a.skin&&(F.css({width:a.origWidth-r.width()-s.width(),left:r.width()+"px"}),e.carouselStep=(2*e.thumbBorderWidth+u.width()+e.thumbMarginLeft)* a.numberOfThumbsPerScreen,r.addClass("carouselLeftNavDisabled"),a.numberOfThumbsPerScreen>=q&&(s.addClass("carouselRightNavDisabled"),r.css("display","none"),s.css("display","none"),F.css("left",parseInt((w.width()-(2*e.thumbBorderWidth+u.width()+e.thumbMarginLeft)*q)/2,10)+"px")),w.css("top",a.height+"px"),d(".thumbsHolder_ThumbOFF",f).find("img:first"),a.origthumbsHolder_MarginTop=W);var z=d(".thumbsHolder_ThumbOFF",f);z.css({"border-color":a.thumbsBorderColorOFF});U(e,a,q,f,z,t,r,s,u,F,w);d("iframe", f).each(function(){var a=d(this).attr("src"),b="?wmode=transparent";-1!=a.indexOf("?")&&(b="&wmode=transparent");d(this).attr("src",a+b)});e.current_img_no=0;a.fadeSlides&&d("#contentHolderUnit_"+e.current_img_no,f).css({"z-index":1});e.currentImg=d(x[0]);c=f.find("img:first");c[0].complete?(d(".myloader",f).css("display","none"),N(e,a,b,l)):c.load(function(){d(".myloader",f).css("display","none");N(e,a,b,l)});f.mouseenter(function(){a.pauseOnMouseOver&&(e.mouseOverBanner=!0,clearTimeout(e.timeoutID), nowx=(new Date).getTime(),e.timeElapsed+=nowx-e.arcInitialTime);a.autoHideNavArrows&&a.showNavArrows&&(v.css("display","block"),p.css("display","block"));a.autoHideBottomNav&&a.showBottomNav&&("bullets"==a.skin?m.css({display:"block"}):0>a.thumbsWrapperMarginTop&&e.isVideoPlaying||!a.showBottomNav||(w.css({display:"block"}),w.stop().animate({opacity:1},500,"swing",function(){})))});f.mouseleave(function(){a.pauseOnMouseOver&&(e.mouseOverBanner=!1,nowx=(new Date).getTime());a.autoHideNavArrows&&a.showNavArrows&& !e.isVideoPlaying&&(v.css("display","none"),p.css("display","none"));a.autoHideBottomNav&&a.showBottomNav&&("bullets"==a.skin?m.css("display","none"):w.stop().animate({opacity:0},300,"swing",function(){}));if(0<a.autoPlay&&1<q&&!e.isVideoPlaying&&a.pauseOnMouseOver){clearTimeout(e.timeoutID);e.arcInitialTime=(new Date).getTime();var d=parseInt(1E3*a.autoPlay-(e.timeElapsed+nowx-e.arcInitialTime),10);e.timeoutID=setTimeout(function(){E(1,e,a,q,C,x,b,l,k,f,y,G,z,t,r,s,u)},d)}});c=d(".contentHolderUnit", k);-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&-1==navigator.userAgent.indexOf("Android")?c.css("z-index","1"):-1!=navigator.userAgent.indexOf("Chrome")&&-1==navigator.userAgent.indexOf("Android")&&c.css("z-index","1");c.click(function(){var b=d(this).attr("rel");"true"==d(x[e.current_img_no]).attr("data-video")&&(b!=e.current_img_no?e.isVideoPlaying=!1:y.click());var c=d(x[e.current_img_no]);void 0!=c.attr("data-link")&&b==e.current_img_no&&""!=c.attr("data-link")&& (b=a.target,void 0!=c.attr("data-target")&&""!=c.attr("data-target")&&(b=c.attr("data-target")),"_blank"==b?window.open(c.attr("data-link")):window.location=c.attr("data-link"))});y.click(function(){y.css("display","none");clearTimeout(e.timeoutID);L=d("#contentHolderUnit_"+e.current_img_no,f).find("img:first");L.css("display","none");d(e.currentImg.attr("data-text-id")).children().css("opacity",0);e.isVideoPlaying=!0;0>a.thumbsWrapperMarginTop&&(w.css("display","none"),"bullets"==a.skin&&m.css("display", "none"));a.showCircleTimer&&(clearInterval(e.intervalID),e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height),e.ctx.beginPath(),e.ctx.globalAlpha=0,e.ctx.arc(a.circleRadius+2*a.circleLineWidth,a.circleRadius+2*a.circleLineWidth,a.circleRadius,0,0,!1),e.ctx.lineWidth=a.circleLineWidth+2,e.ctx.strokeStyle=a.behindCircleColor,e.ctx.stroke(),e.ctx.beginPath(),e.ctx.globalAlpha=0,e.ctx.arc(a.circleRadius+2*a.circleLineWidth,a.circleRadius+2*a.circleLineWidth,a.circleRadius,0,0,!1),e.ctx.lineWidth=a.circleLineWidth, e.ctx.strokeStyle=a.circleColor,e.ctx.stroke());-1!=B&&a.texturePath&&d(".texture_over_image",f).css("display","none")});v.click(function(){e.slideIsRunning||(e.isVideoPlaying=!1,a.showBottomNav&&(w.css({opacity:1,display:"block"}),"bullets"==a.skin&&m.css("display","block")),clearTimeout(e.timeoutID),E(-1,e,a,q,C,x,b,l,k,f,y,G,z,t,r,s,u))});p.click(function(){e.slideIsRunning||(e.isVideoPlaying=!1,a.showBottomNav&&(w.css({opacity:1,display:"block"}),"bullets"==a.skin&&m.css("display","block")),clearTimeout(e.timeoutID), E(1,e,a,q,C,x,b,l,k,f,y,G,z,t,r,s,u))});var S=!1;d(window).resize(function(){var c=K();doResizeNow=!0;var g=navigator.userAgent.toLowerCase();-1!=g.indexOf("android")&&(0==a.windowOrientationScreenSize0&&0==window.orientation&&(a.windowOrientationScreenSize0=d(window).width()),0==a.windowOrientationScreenSize90&&90==window.orientation&&(a.windowOrientationScreenSize90=d(window).height()),0==a.windowOrientationScreenSize_90&&-90==window.orientation&&(a.windowOrientationScreenSize_90=d(window).height()), a.windowOrientationScreenSize0&&0==window.orientation&&d(window).width()>a.windowOrientationScreenSize0&&(doResizeNow=!1),a.windowOrientationScreenSize90&&90==window.orientation&&d(window).height()>a.windowOrientationScreenSize90&&(doResizeNow=!1),a.windowOrientationScreenSize_90&&-90==window.orientation&&d(window).height()>a.windowOrientationScreenSize_90&&(doResizeNow=!1),0==e.windowWidth&&(doResizeNow=!1,e.windowWidth=d(window).width()));-1!=c&&9==c&&0==e.windowWidth&&(doResizeNow=!1);e.windowWidth== d(window).width()?(doResizeNow=!1,a.windowCurOrientation!=window.orientation&&-1!=navigator.userAgent.indexOf("Android")&&(a.windowCurOrientation=window.orientation,doResizeNow=!0)):e.windowWidth=d(window).width();if(-1!=g.indexOf("ipad")||-1!=g.indexOf("iphone")||-1!=g.indexOf("ipod")||-1!=g.indexOf("webos"))doResizeNow=!0;a.responsive&&doResizeNow&&(!1!==S&&clearTimeout(S),S=setTimeout(function(){var c=e,h=a,g=q,p=x,D=f,A=y,B=G,H=z,$=C,I=u,J=M;if(h.width100Proc&&h.height100Proc&&!h.setAsBg){var L= d("body").css("overflow");d("body").css("overflow","hidden")}c.winWidth=d(window).width();c.winHeight=d(window).height();var K=0;h.enableTouchScreen&&h.fadeSlides?(responsiveWidth=b.parent().parent().parent().width(),responsiveHeight=b.parent().parent().parent().height()):(responsiveWidth=b.parent().parent().width(),responsiveHeight=b.parent().parent().height());h.responsiveRelativeToBrowser&&(responsiveWidth=d(window).width(),responsiveHeight=d(window).height());h.width100Proc&&(h.width=responsiveWidth); h.height100Proc&&(h.height=responsiveHeight);if(h.origWidth!=responsiveWidth||h.width100Proc){h.origWidth>responsiveWidth||h.width100Proc?h.width=responsiveWidth:h.width100Proc||(h.width=h.origWidth);h.height100Proc||(h.height=h.width/c.bannerRatio);D.width(h.width);D.height(h.height);n.width(h.width);n.height(h.height);k.width(h.width);k.height(h.height);l.css("margin-top",parseInt((h.height-v.height())/2,10)+"px");contentHolderUnit=d(".contentHolderUnit",D);contentHolderUnit.width(h.width);contentHolderUnit.height(h.height); h.enableTouchScreen&&h.fadeSlides&&(D.parent().width(h.width+1),D.parent().height(h.height));holderWidth=h.width*g;for(i=0;i<g;i++)O(i,h,D,B,p,c),K=h.fadeSlides?0:parseInt(i*h.width,10),d(d(p[i]).attr("data-text-id")).css({width:b.width()+"px",left:K,top:l.css("top")});k.width(holderWidth);if("bullets"==h.skin){switch(h.bottomNavPos){case "left":m.css({left:h.bottomNavLateralMargin+"px",top:h.height+"px"});break;case "right":m.css({left:parseInt(D.width()-J,10)-h.bottomNavLateralMargin+"px",top:h.height+ "px"});break;default:m.css({left:parseInt((D.width()-J)/2,10)+"px",top:h.height+"px"})}h.width100Proc&&h.height100Proc||m.css("margin-top",parseInt(h.thumbsWrapperMarginTop/(h.origWidth/h.width),10)+"px")}else U(c,h,g,D,H,t,r,s,I,F,w);A.css({left:parseInt((h.width-A.width())/2,10)+"px",top:parseInt((h.height-A.height())/2,10)+"px"});2<=g?(clearTimeout(c.timeoutID),E(1,c,h,g,$,p,b,l,k,D,A,B,H,t,r,s,I)):(d(".newFS",D).contents().unwrap(),d(c.currentImg.attr("data-text-id")).css("display","none"),N(c, h,b,l));h.width100Proc&&h.height100Proc&&h.setAsBg&&V(c,h,p,D)}h.width100Proc&&h.height100Proc&&!h.setAsBg&&d("body").css("overflow",L)},300))});var C=d(".bottomNavButtonOFF",f);"bullets"==a.skin&&(C.click(function(){if(!e.slideIsRunning){e.isVideoPlaying=!1;var c=d(this).attr("rel");e.current_img_no!=c&&(d(C[e.current_img_no]).removeClass("bottomNavButtonON"),e.previous_current_img_no=e.current_img_no,e.bottomNavClicked=!0,e.current_img_no=c-1,clearTimeout(e.timeoutID),E(1,e,a,q,C,x,b,l,k,f,y,G, z,t,r,s,u))}}),C.mouseenter(function(){var b=d(this),c=b.attr("rel");if(a.showPreviewThumbs){A=d('<div class="bottomOverThumb"></div>');b.append(A);var e=d(x[c]).attr("data-bottom-thumb"),f=d(x[Q]).attr("data-bottom-thumb"),g=80,k=-80;Q>c&&(g=-80,k=80);A.html("");A.html('<div class="innerBottomOverThumb"><img src="'+f+'"style="margin:0px;" id="oldThumb"><img src="'+e+'" style="margin-top:-80px; margin-left:'+g+'px;" id="newThumb"></div>');d("#newThumb").stop().animate({marginLeft:"0px"},150,function(){A.html('<div class="innerBottomOverThumb"><img src="'+ e+'"></div>')});d("#oldThumb").stop().animate({marginLeft:k+"px"},150,function(){});Q=c}b.addClass("bottomNavButtonON")}),C.mouseleave(function(){var b=d(this),c=b.attr("rel");a.showPreviewThumbs&&A.remove();e.current_img_no!=c&&b.removeClass("bottomNavButtonON")}));z.mousedown(function(){if(!e.slideIsRunning){arrowClicked=!0;e.isVideoPlaying=!1;var c=d(this).attr("rel");e.current_img_no!=c&&(d(z[e.current_img_no]).css({"border-color":a.thumbsBorderColorOFF}),e.previous_current_img_no=e.current_img_no, e.bottomNavClicked=!0,e.current_img_no=c-1,clearTimeout(e.timeoutID),E(1,e,a,q,C,x,b,l,k,f,y,G,z,t,r,s,u))}});z.mouseup(function(){arrowClicked=!1});z.mouseenter(function(){var b=d(this);b.attr("rel");b.css({"border-color":a.thumbsBorderColorON})});z.mouseleave(function(){var b=d(this),c=b.attr("rel");e.current_img_no!=c&&b.css({"border-color":a.thumbsBorderColorOFF})});r.click(function(){e.isCarouselScrolling||(currentCarouselLeft=t.css("left").substr(0,t.css("left").lastIndexOf("px")),0>currentCarouselLeft&& P(1,t,r,s,a,q,u,e))});s.click(function(){e.isCarouselScrolling||(currentCarouselLeft=t.css("left").substr(0,t.css("left").lastIndexOf("px")),Math.abs(currentCarouselLeft-e.carouselStep)<(2*e.thumbBorderWidth+u.width()+e.thumbMarginLeft)*q&&P(-1,t,r,s,a,q,u,e))});a.width100Proc&&a.height100Proc&&a.setAsBg&&V(e,a,x,f);"bullets"==a.skin&&d(C[e.current_img_no]).addClass("bottomNavButtonON");d(z[e.current_img_no]).css({"border-color":a.thumbsBorderColorON});0<a.autoPlay&&1<q&&(a.showCircleTimer&&(e.intervalID= setInterval(function(){T(e,a)},125)),e.timeoutID=setTimeout(function(){E(1,e,a,q,C,x,b,l,k,f,y,G,z,t,r,s,u)},1E3*a.autoPlay));"true"==d(x[e.current_img_no]).attr("data-video")&&y.css("display","block")})};d.fn.fullscreen_background.defaults={skin:"bullets",width:1920,height:600,width100Proc:!0,height100Proc:!0,autoPlay:6,fadeSlides:!0,loop:!0,setAsBg:!0,texturePath:"",horizontalPosition:"center",verticalPosition:"center",initialOpacity:1,target:"_blank",pauseOnMouseOver:!1,showCircleTimer:!0,showCircleTimerIE8IE7:!1, circleRadius:8,circleLineWidth:4,circleColor:"#ffffff",circleAlpha:100,behindCircleColor:"#000000",behindCircleAlpha:20,responsive:!0,responsiveRelativeToBrowser:!0,numberOfThumbsPerScreen:0,bottomNavPos:"right",bottomNavLateralMargin:0,thumbsWrapperMarginTop:-110,thumbsWrapperBg:"",thumbsBorderColorON:"#000000",thumbsBorderColorOFF:"#7a7a7a",showAllControllers:!0,showNavArrows:!0,showOnInitNavArrows:!0,autoHideNavArrows:!0,showBottomNav:!0,showOnInitBottomNav:!0,autoHideBottomNav:!1,showPreviewThumbs:!0, enableTouchScreen:!0,absUrl:"",videoProportionWidth:16,videoProportionHeight:9,origWidth:0,origHeight:0,origThumbW:0,origThumbH:0,origthumbsHolderWrapperH:0,origthumbsHolder_MarginTop:0,windowOrientationScreenSize0:0,windowOrientationScreenSize90:0,windowOrientationScreenSize_90:0,windowCurOrientation:0}})(jQuery);